//*************************************************************************************************
// ギア処理 (gear.h)
// Author : YUHEI KAN
//*************************************************************************************************
#ifndef _GEAR_H_
#define _GEAR_H_

//*************************************************************************************************
// インクルードファイル
//*************************************************************************************************

//*************************************************************************************************
// マクロ定義
//*************************************************************************************************
#define GEAR_DISIT_MAX ( 3 )                   //ギア最高桁数

//*************************************************************************************************
// 構造体
//*************************************************************************************************

//*************************************************************************************************
// 前方宣言
//*************************************************************************************************
class CNumber;

//*************************************************************************************************
// クラス
//*************************************************************************************************
//ギアクラス
class CGear :public CScene2D
{
public:
    CGear(int nPriolity = 3);                   //コンストラクタ
    ~CGear();                                   //デコンストラクタ

    HRESULT Init(void);                         //初期化処理
    void Uninit(void);                          //終了処理
    void Update(void);                          //更新処理
    void Draw(void);                            //描画処理

    static CGear *Create(
        D3DXVECTOR3 Pos,
        int nPriolity = 3);                     //自身を生成

    void SetItemNum(int ItemNum);               //アイテム取得個数の設定
    int GetItemNum(void);                       //アイテム取得個数の取得

private:
    void rotation2D(float * xp, float * yp,
        float x, float y, float xc, float yc,
        float theta);                           //回転処理

    LPDIRECT3DTEXTURE9      m_pTexture[2];      //テクスチャへのポインタ
    LPDIRECT3DVERTEXBUFFER9 m_pVtxBuff;         //頂点バッファへのポインタ
    float angle;                                //回転角
    CNumber *m_apNumber[GEAR_DISIT_MAX];        //数値クラス
    int m_ItemNum;                              //アイテム取得個数
};

//*************************************************************************************************
// プロトタイプ宣言
//*************************************************************************************************

#endif //_GEAR_H_