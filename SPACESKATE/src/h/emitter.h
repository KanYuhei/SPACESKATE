//*************************************************************************************************
// エミッター処理 (emitter.h)
// Author : YUHEI KAN
//*************************************************************************************************

//*************************************************************************************************
// インクルードガード
//*************************************************************************************************
#ifndef _EMITTER_H_
#define _EMITTER_H_

//*************************************************************************************************
// インクルード
//*************************************************************************************************
#include "particle.h"

//*************************************************************************************************
// 定数定義
//*************************************************************************************************
#define EMITTER_MAX ( 256 )                    //エミッター最大数

//*************************************************************************************************
// 列挙体
//*************************************************************************************************

//*************************************************************************************************
// 構造体
//*************************************************************************************************
//エミッター
typedef struct {
    D3DXVECTOR3 Pos;                            //中心座標(XY座標)
    D3DXVECTOR3 Speed;                          //初速度(XY座標)
    D3DXVECTOR3 Acceleration;                   //加速度(XY座標)
    D3DXVECTOR2 Size;                           //サイズ
    D3DXCOLOR Color;                            //色
    int nLife;                                  //寿命
    int nNum;                                   //1フレームの個数
}EMITTER;

//*************************************************************************************************
// クラス
//*************************************************************************************************
//エミッタークラス
class CEmitter
{
public:
    CEmitter();                                 //コンストラクタ
    ~CEmitter();                                //デコンストラクタ

    HRESULT Init(void);                         //初期化処理
    void Uninit(void);                          //終了処理
    void Update(void);                          //更新処理
    void Draw(void);                            //描画処理

    //static CEmitter *Create (D3DXVECTOR3 Pos,
    //                         D3DXVECTOR3 Speed,
    //                         D3DXVECTOR3 Acceleration,
    //                         D3DXCOLOR Color,
    //                         int nLife,
    //                         int nNum);         //自身を生成

    void EmitParticle(EMITTER *pEmitter, 
                      PARTICLE *pParticle);     //エミッターからパーティクルに設定

private:
    EMITTER m_Emitter;                          //エミッター情報
};

//*************************************************************************************************
// プロトタイプ宣言
//*************************************************************************************************

#endif  //_EMITTER_H_